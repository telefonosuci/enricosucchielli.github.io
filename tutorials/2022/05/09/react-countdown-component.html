<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta http-equiv="content-type" content="text/html; charset=utf-8">

<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
  integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
  integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
  integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<link rel="stylesheet" href="/assets/css/style.css">

<script type="text/javascript" src="/assets/bundles/vendors-bundle.js"></script>
<script type="text/javascript" src="/assets/bundles/global-bundle.js"></script>

<title>Simple React countdown</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-TP92MWJ');
</script>
<!-- End Google Tag Manager -->

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Simple React countdown | Suci’s Git space</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Simple React countdown" />
<meta name="author" content="Suci" />
<meta property="og:locale" content="en" />
<meta name="description" content="A simple React countdown." />
<meta property="og:description" content="A simple React countdown." />
<meta property="og:site_name" content="Suci’s Git space" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-05-09T17:33:36+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Simple React countdown" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Suci"},"dateModified":"2022-05-09T17:33:36+02:00","datePublished":"2022-05-09T17:33:36+02:00","description":"A simple React countdown.","headline":"Simple React countdown","mainEntityOfPage":{"@type":"WebPage","@id":"/tutorials/2022/05/09/react-countdown-component.html"},"url":"/tutorials/2022/05/09/react-countdown-component.html"}</script>
<!-- End Jekyll SEO tag -->

</head>
  <body>

    <div class="suc-navbar suc-cont__center">
      <div class="suc-cont suc-cont__def suc-navbar__container">
        <nav class="suc-navbar__nav"><a href="/about">About Me</a><a href="/posts">Some Posts</a></nav>

        <div class="language-bar">
          <a href="/en"><img class="language-image" src="/assets/icons/icons8-gran-bretagna-48.png" /></a>
          <a href="/it"><img class="language-image" src="/assets/icons/icons8-italy-48.png" /></a>
        </div>
      </div>
    </div>

    <main class="suc-cont">
      <section class="suc-content">
        <div class="tutorial-container">
  <a class="tutorial-link" href="/tutorials/2022/05/09/react-countdown-component.html">
    <h2 class="tutorial-title">Simple React countdown</h2>
  </a>
  <div class="tutorial-meta">
    <ul class="tutorial-categories"><li>Tutorials</li></ul>
    <div class="tutorial-date"><i class="icon-calendar"></i>May 9, 2022</div>
  </div>
  <div class="tutorial">
    <p>A simple React countdown.</p>

<p>The componen to be used on NextJS has to be loaded throught the dynamic import to avoid rewndered component to be different from the server compy during rendering.</p>

<p>Our component:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

  <span class="kd">const</span> <span class="nx">Countodown</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">expire</span><span class="p">,</span> <span class="nx">setExpired</span><span class="p">,</span> <span class="nx">expireDate</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="kd">const</span> <span class="nx">calculateTimeLeft</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">difference</span> <span class="o">=</span> <span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">expireDate</span><span class="p">)</span> <span class="o">-</span> <span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
      <span class="kd">let</span> <span class="nx">timeLeft</span> <span class="o">=</span> <span class="p">{};</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">difference</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">timeLeft</span> <span class="o">=</span> <span class="p">{</span>
          <span class="na">days</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">difference</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1000</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span><span class="p">)),</span>
          <span class="na">hours</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="nx">difference</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1000</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span><span class="p">))</span> <span class="o">%</span> <span class="mi">24</span><span class="p">),</span>
          <span class="na">minutes</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="nx">difference</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">/</span> <span class="mi">60</span><span class="p">)</span> <span class="o">%</span> <span class="mi">60</span><span class="p">),</span>
          <span class="na">seconds</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="nx">difference</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">%</span> <span class="mi">60</span><span class="p">),</span>
        <span class="p">};</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">setExpired</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
      <span class="p">}</span>

      <span class="k">return</span> <span class="nx">timeLeft</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="kd">const</span> <span class="p">[</span><span class="nx">timeLeft</span><span class="p">,</span> <span class="nx">setTimeLeft</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">calculateTimeLeft</span><span class="p">());</span>

    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">setTimeLeft</span><span class="p">(</span><span class="nx">calculateTimeLeft</span><span class="p">());</span>
      <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="kd">const</span> <span class="nx">timerComponents</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">timeLeft</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">interval</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">timerComponents</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">i</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="dl">'</span><span class="s1">countdownbanner__cell</span><span class="dl">'</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="nx">timeLeft</span><span class="p">[</span><span class="nx">interval</span><span class="p">]}</span>
          <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="nx">interval</span><span class="p">}{</span><span class="dl">"</span><span class="s2"> </span><span class="dl">"</span><span class="p">}</span>
          <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="nx">style</span> <span class="nx">jsx</span><span class="o">&gt;</span><span class="p">{</span><span class="s2">`
          .countdownbanner__cell {
            background-color: #fff;
            border-radius: 8px;
            width: 80px;
            height: 80px;
            display: flex;
            flex-direction: column;
            margin: 6px;
            align-items: center;
            justify-content: center;
            font-size: 18px;
          }
          @media (max-width: 768px) {
            .countdownbanner__cell {
              font-size: 14px;
              width: 56px;
              height: 56px;
              margin: 3px;
            }
          }

        `</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/style</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="p">);</span>
    <span class="p">});</span>

    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">'</span><span class="s1">countdownbanner</span><span class="dl">'</span><span class="o">&gt;</span>

            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">'</span><span class="s1">countdownbanner-timer</span><span class="dl">'</span><span class="o">&gt;</span>
              <span class="p">{</span><span class="nx">timerComponents</span><span class="p">.</span><span class="nx">length</span> <span class="p">?</span> <span class="nx">timerComponents</span> <span class="p">:</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="dl">'</span><span class="s1">expired</span><span class="dl">'</span><span class="o">&gt;</span><span class="p">{</span><span class="s2">`Time's up!`</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span&gt;</span><span class="err">}
</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>
        <span class="o">&lt;</span><span class="nx">style</span> <span class="nx">jsx</span><span class="o">&gt;</span><span class="p">{</span><span class="s2">`

          .countdownbanner {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px;
          }

          @media (max-width: 768px) {
            .countdownbanner {
              padding: 0;
            }
          }

          .countdownbanner-logo {
            height: 40vmin;
            pointer-events: none;
          }

          @media (prefers-reduced-motion: no-preference) {
            .countdownbanner-logo {
              animation: countdownbanner-logo-spin infinite 20s linear;
            }
          }

          .countdownbanner-header {
            background-color: #282c34;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: calc(10px + 2vmin);
            color: white;
          }

          .countdownbanner-link {
            color: #61dafb;
          }

          @keyframes countdownbanner-logo-spin {
            from {
              transform: rotate(0deg);
            }

            to {
              transform: rotate(360deg);
            }
          }

          .countdownbanner-timer {
            display: flex;
            margin: 0 auto;
          }

          .countdownbannercell {
            background-color: #fff;
            border-radius: 8px;
            width: 64px;
            height: 64px;
            display: flex;
            flex-direction: column;
            margin: 6px;
            align-items: center;
            justify-content: center;
            font-size: 42px;
          }

        `</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/style</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">)</span>
  <span class="p">}</span>

  <span class="k">export</span> <span class="k">default</span> <span class="nx">Countodown</span>
</code></pre></div></div>

  </div></div>


      </section>

    </main>

    <footer><div class="suc-footer">

  <div class="suc-footer__inner-container suc-footer__list-container suc-cont">

    <div class="about suc-about">
      <a href="/"><img class="def-lay-profile-image" src="/assets/portfolio.jpg"
          alt="Enrico Succhielli"></a>
      <div class="container badges-box">
        <img alt="GitHub User's stars"
          src="https://img.shields.io/github/stars/telefonosuci?style=for-the-badge">
        <img alt="GitHub followers"
          src="https://img.shields.io/github/followers/telefonosuci?style=for-the-badge">
      </div>
      <h2 id="title">
        <a href="/">Enrico Succhielli</a>
      </h2>
      <p class="tagline suc-cont__center">Pixel maniac web Developer</p>
      <ul class="social"><a href="https://github.com/telefonosuci">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://www.linkedin.com/in/enrico-succhielli">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><a href="https://twitter.com/enricolebanane">
          <li>
            <i class="icon-twitter-squared"></i>
          </li>
        </a></ul>

      <p>&copy;
        2023
      </p>
    </div>


    <ul class="suc-footer__link-list">
      <li class="suc-footer__link-list-header">Legal area</li>
      <li class="suc-footer__link-list-item">Contact policy</li>
      <li class="suc-footer__link-list-item"><a href="/comments-policy.html">Comments policy</a></li>
      <li class="suc-footer__link-list-item">Privacy policy</li>
    </ul>

    <ul class="suc-footer__link-list">
      <li class="suc-footer__link-list-header">Loved projects</li>
      <li class="suc-footer__link-list-item"><a href="https://reactjs.org/">ReactJS</a></li>
      <li class="suc-footer__link-list-item"><a href="https://prismic.io/">Prismic</a></li>
      <li class="suc-footer__link-list-item"><a href="https://ghost.org/">Ghost CMS</a></li>
    </ul>
  </div>
</div>
</footer></body>

  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TP92MWJ" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->

</html>
